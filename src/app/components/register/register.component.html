<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form #registerForm="ngForm" (ngSubmit)="OnFormSubmitted()">
        <div class="register-form mx-auto">
          <h2 class="register-header">Register</h2>
          <div class="form-group">
            <label for="phone_number">Phone</label>
            <input
              #phone_number="ngModel"
              class="form-control"
              id="phone_number"
              name="phone_number"
              ngModel
              required
              type="text"
            />
            <div class="divider-nospace"></div>
            <small *ngIf="phone_number.invalid && phone_number.touched" class="text-danger"
            ></small>
            <br>
            <small *ngIf="phone_number.value?.length < 10 && (phone_number.dirty || phone_number.touched)"
                   class="text-danger">Email/Phone
              is required and
              must
              be equal to 10</small>
          </div>
          <div class="mt-3"></div>
          <div class="form-group password-field">
            <label for="password">Password</label>
            <input
              #password="ngModel"
              class="form-control"
              id="password"
              name="password"
              ngModel
              placeholder="At least 8 characters"
              required
              type="password"
            />
            <i class="password-toggle fas fa-eye-slash"></i>
            <small *ngIf="password.value?.length < 8 && password.touched" class="text-danger"
            >Password must be greeter or equal than 8</small>
            <div class="divider-nospace"></div>
          </div>
          <div class="mt-3"></div>
          <div class="form-group password-field">
            <label for="confirm-password">Confirm password</label>
            <input
              #confirmPassword="ngModel"
              class="form-control"
              id="confirm-password"
              name="confirmPassword"
              ngModel
              (input)="registerForm.form.markAsTouched(); checkPasswordsMatch()"
              placeholder="At least 8 characters"
              required
              type="password"
            />
            <i class="password-toggle fas fa-eye-slash"></i>
            <div class="divider-nospace"></div>
            <small
              *ngIf="registerForm.form.controls['confirmPassword']?.hasError('passwordIsNotMatch') &&
              confirmPassword.touched &&
              password.touched"
              class="text-danger"
            >Password and confirm password is not matches</small>
          </div>
          <div class="mt-3"></div>
          <div class="form-group">
            <label for="full-name">Name</label>
            <input
              #fullName="ngModel"
              class="form-control"
              id="full-name"
              name="fullName"
              ngModel
              required
              type="text"
            />
            <div class="divider-nospace"></div>
          </div>
          <div class="form-group">
            <label for="dob">Date of birth</label>
            <!-- Thêm [(ngModel)] để thực hiện 2-way data binding -->
            <input type="date"
                   #dob="ngModel"
                   ngModel
                   class="form-control"
                   required
                   id="dob"
                   name="dob"
                   (input)="registerForm.form.markAsTouched(); checkAge()">
            <div class="divider-nospace"></div>
            <p class="text-danger"
               *ngIf="registerForm.controls['dob']?.hasError('inValidAge')
                            && dob.touched">
              You are not yet 18 years old
            </p>
          </div>
          <div class="mt-3"></div>
          <div class="form-group">
            <label for="address">Address</label>
            <input
              #address="ngModel"
              class="form-control"
              id="address"
              name="address"
              ngModel
              required
              type="text"
            />
            <div class="divider-nospace"></div>
          </div>
          <div class="form-group">
            <div class="form-check checkbox-text">
              <span style="display: flex">
                <input
                  #agree
                  class="form-check-input"
                  id="agree"
                  name="agree"
                  ngModel
                  required
                  type="checkbox"
                />
                <label class="form-check-label text-start" for="agree">
                  I agree to the terms and conditions</label
                >
              </span>
            </div>
          </div>
          <button
            [class]="registerForm.invalid ? 'disable-button' : ''"
            [disabled]="registerForm.invalid"
            class="register-button"
            type="submit"
            value="Submit"
          >
            Register
          </button>
          <div class="divider"></div>
          <p class="text-center">
            Do you already have an account?
            <span> <a class="register-link" href="#">Login</a></span>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
